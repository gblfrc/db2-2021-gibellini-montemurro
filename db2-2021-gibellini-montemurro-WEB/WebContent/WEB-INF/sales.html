<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<link rel="stylesheet" type="text/css" media="all"
	href="../css/telco.css" th:href="@{/css/telco.css}" />
<title>Welcome in sales page</title>
</head>
<body>
	<div class="back">
		<a th:href="@{/GetEmployeeHomePage}">Back</a>
	</div>
	<div class="user" th:if="${user}!=null">
		<span th:text="${user.username} + ' | '"> User | </span> <a
			th:href="Logout" href="Logout" th:text="Logout"> Logout</a>
	</div>
	<br>
	<div>
	<form class="onlyButton" action="GetSalesPage" method="GET"><input type="submit" name="choice" value="Purchase per package">
	</form>
	<form class="onlyButton" action="GetSalesPage" method="GET"><input type="submit" name="choice" value="Purchase per package and validity period">
	</form>
	<form class="onlyButton" action="GetSalesPage" method="GET"><input type="submit" name="choice" value="Amount without optional product">
	</form>
	<br>
	<form class="onlyButton" action="GetSalesPage" method="GET"><input type="submit" name="choice" value="Amount with optional product">
	</form>
	<form class="onlyButton" action="GetSalesPage" method="GET"><input type="submit" name="choice" value="Average number of optional product">
	</form>
	<form class="onlyButton" action="GetSalesPage" method="GET"><input type="submit" name="choice" value="Insolvent clients">
	</form>
	<br>
	<form class="onlyButton" action="GetSalesPage" method="GET"><input type="submit" name="choice" value="Suspended orders">
	</form>
	<form class="onlyButton" action="GetSalesPage" method="GET"><input type="submit" name="choice" value="Alerts">
	</form>
	<form class="onlyButton" action="GetSalesPage" method="GET"><input type="submit" name="choice" value="Best seller">
	</form>
		<div class="main" th:if="${#strings.equalsIgnoreCase(choice, 'Purchase per package')}">
		<h1>Total Purchases</h1>
		<table>
			<thead>
				<tr>
					<th>Id package</th>
					<th>Total Number of purchases</th>
				</tr>
			</thead>
			<tbody th:remove="all-but-first">
				<tr class="sales" th:each="sale: ${allSalesDataPerPackage}">
					<td th:text="${sale[0]}">Uruk Hai</td>
					<td th:text="${sale[1]}">Bilbo</td>
				</tr>
			</tbody>
		</table>
		</div>
		<div class="main" th:if="${#strings.equalsIgnoreCase(choice, 'Purchase per package and validity period')}">
		<h1>Total Purchases per validity period</h1>
		<table>
			<thead>
				<tr>
					<th>Id package</th>
					<th>Validity Period</th>
					<th>Total Number of purchases</th>
				</tr>
			</thead>
			<tbody th:remove="all-but-first">
				<tr class="sales" th:each="sale: ${allSalesPerValidityAndPackage}">
					<td th:text="${sale.id_package}">Uruk Hai</td>
					<td th:text="${sale.months}">Bilbo</td>
					<td th:text="${sale.totPurchase}">Bilbo</td>
				</tr>
			</tbody>
		</table>
		</div>
				
		<div class="main" th:if="${#strings.equalsIgnoreCase(choice, 'Amount without optional product')}">
		<h1>Total Amount per package without optional product</h1>
		<table>
			<thead>
				<tr>
					<th>Id package</th>
					<th>Total amount</th>
				</tr>
			</thead>
			<tbody th:remove="all-but-first">
				<tr class="sales" th:each="sale: ${allSalesDataPerPackage}">
					<td th:text="${sale[0]}">Uruk Hai</td>
					<td th:text="${sale[2]}">Bilbo</td>
				</tr>
			</tbody>
		</table>
		</div>
		
		<div class="main" th:if="${#strings.equalsIgnoreCase(choice, 'Amount with optional product')}">
		<h1>Total Amount per package with optional product</h1>
		<table>
			<thead>
				<tr>
					<th>Id package</th>
					<th>Total amount</th>
				</tr>
			</thead>
			<tbody th:remove="all-but-first">
				<tr class="sales" th:each="sale: ${allSalesDataPerPackage}">
					<td th:text="${sale[0]}">Uruk Hai</td>
					<td th:text="${sale[3]}">Bilbo</td>
				</tr>
			</tbody>
		</table>
		</div>
		
		<div class="main" th:if="${#strings.equalsIgnoreCase(choice, 'Average number of optional product')}">
		<h1>Average Number Of Optional Product</h1>
		<table>
			<thead>
				<tr>
					<th>Id package</th>
					<th>Average Number Of Optional product</th>
				</tr>
			</thead>
			<tbody th:remove="all-but-first">
				<tr class="sales" th:each="sale: ${allSalesDataPerPackage}">
					<td th:text="${sale[0]}">Uruk Hai</td>
					<td th:text="${sale[1]}!=0? ${sale[4]}/${sale[1]} : '0' " >0</td>
				</tr>
			</tbody>
		</table>
		</div>
		
		<div class="main" th:if="${#strings.equalsIgnoreCase(choice, 'Insolvent clients')}">
		<h1>Insolvent clients</h1>
		<table>
			<thead>
				<tr>
					<th>Username</th>
					<th>Email</th>
				</tr>
			</thead>
			<tbody th:remove="all-but-first">
				<tr class="sales" th:each="insolvent: ${insolvents}">
					<td th:text="${insolvent.username}">Uruk Hai</td>
					<td th:text="${insolvent.email}">Bilbo</td>
				</tr>
			</tbody>
		</table>
		</div>
		
		<div class="main" th:if="${#strings.equalsIgnoreCase(choice, 'Suspended orders')}">
		<h1>Suspended orders</h1>
		<table>
			<thead>
				<tr>
					<th>Order ID</th>
					<th>Creation date</th>
					<th>Creation time</th>
				</tr>
			</thead>
			<tbody th:remove="all-but-first">
				<tr class="sales" th:each="order: ${suspendedOrders}">
					<td th:text="${order.id}">Uruk Hai</td>
					<td th:text="${order.creationDate}">Bilbo</td>
					<td th:text="${order.creationTime}">Bilbo</td>
				</tr>
			</tbody>
		</table>
		</div>
		
		<div class="main" th:if="${#strings.equalsIgnoreCase(choice, 'Alerts')}">
		<h1>Clients with alerts</h1>
		<table>
			<thead>
				<tr>
					<th>Username</th>
					<th>Email</th>
					<th>Amount</th>
					<th>Rejection Date</th>
					<th>Rejection Time</th>
				</tr>
			</thead>
			<tbody th:remove="all-but-first">
				<tr class="sales" th:each="alert: ${alerts}">
					<td th:text="${alert[0]}">Uruk Hai</td>
					<td th:text="${alert[1]}">Bilbo</td>
					<td th:text="${alert[2]}">Bilbo</td>
					<td th:text="${alert[3]}">Bilbo</td>
					<td th:text="${alert[4]}">Bilbo</td>
				</tr>
			</tbody>
		</table>
		</div>
		
		<div class="main" th:if="${#strings.equalsIgnoreCase(choice, 'Best seller')}">
		<h1>Best seller</h1>
		<table>
			<thead>
				<tr>
					<th>Optional product</th>
					<th>Total revenue</th>
				</tr>
			</thead>
			<tbody th:remove="all-but-first">
				<tr class="sales" th:each="best: ${bestSeller}">
					<td th:text="${best.id_optprod}">Uruk Hai</td>
					<td th:text="${best.tot_revenue}">Bilbo</td>
				</tr>
			</tbody>
		</table>
		</div>
	</div>
</body>
</html>